/******************************************************************************
 * Name      : S3A7_REANIBEX_100                                              *
 * Copyright : Osatu S. Coop                                                  *
 * Compiler  : MinGW32                                                        *
 * Target    : Reanibex Series                                                *
 ******************************************************************************/

/*!
 * @file        R100_Tables.c
 * @brief       Zp and Pulse tables definitions
 *
 * @version     v1
 * @date        16/01/2018
 * @author      ltorres
 * @warning     author   date    version     .- Edition
 * @bug
 *
 */

/******************************************************************************
 ** Includes
 */


#include "R100_Tables.h"

#include "..\types_basic_Mock.h"

/******************************************************************************
 ** Macros
 */

/******************************************************************************
 ** Defines
 */

/******************************************************************************
 ** Typedefs
 */

/******************************************************************************
 ** Constants
 */

/*
// Zp Table to convert ADCs to Ohms
const ZP_TABLE_t  zp_table [] =
{
//   Ohms           ADCs            index
{     0,            4021000 },        //  0
{     1,            4023300 },        //  1
{    12,            4027900 },        //  2
{    19,            4030700 },        //  3
{    28,            4034400 },        //  4
{    40,            4039100 },        //  5
{    49,            4043000 },        //  6
{    69,            4051100 },        //  7
{    82,            4056500 },        //  8
{    100,           4063750 },        //  9
{    120,           4071650 },        // 10
{    150,           4083800 },        // 11
{    182,           4096700 },        // 12
{    219,           4111300 },        // 13
{    269,           4130900 },        // 14
{    328,           4154500 },        // 15 -- limit to ignore the ECG data frames (set to zero) ...
{    466,           4208300 },        // 16
{    560,           4244200 },        // 17
{    664,           4283000 },        // 18
{    823,           4342300 },        // 19
{    978,           4398400 },        // 20
{    1192,          4474500 },        // 21
{    1491,          4581100 },        // 22
{    1805,          4683100 },        // 23
{    1956,          4731400 },        // 24
{    2161,          4797300 },        // 25
{    2335,          4852100 },        // 26
{    2675,          4952600 },        // 27
{    3290,          5128300 },        // 28
{    3920,          5293400 },        // 29
{    4560,          5446700 },        // 30
{    5480,          5652300 },        // 31
{    6720,          5896700 },        // 32
{    8060,          6130500 },        // 33
{    MAX_ZP_OHMS,   MAX_ZP_ADCS },    // 34
{    0,             0       }         // table End
};
*/

// Zp Table to convert ADCs to Ohms
const ZP_TABLE_t  zp_table [] =
{
//   Ohms           ADCs            index
{     0,            4037200 },        //  0
{     1,            4037500 },        //  1
{    12,            4042200 },        //  2
{    19,            4044700 },        //  3
{    28,            4048600 },        //  4
{    40,            4053700 },        //  5
{    49,            4057200 },        //  6
{    69,            4065400 },        //  7
{    82,            4070700 },        //  8
{    100,           4077800 },        //  9
{    120,           4085700 },        // 10
{    150,           4097900 },        // 11
{    182,           4111000 },        // 12
{    219,           4125600 },        // 13
{    269,           4144900 },        // 14
{    328,           4168700 },        // 15 -- limit to ignore the ECG data frames (set to zero) ...
{    466,           4222200 },        // 16
{    560,           4258900 },        // 17
{    664,           4297500 },        // 18
{    823,           4356800 },        // 19
{    978,           4412900 },        // 20
{    1192,          4488900 },        // 21
{    1491,          4596200 },        // 22
{    1805,          4698500 },        // 23
{    1956,          4746400 },        // 24
{    2161,          4812200 },        // 25
{    2335,          4867000 },        // 26
{    2675,          4968000 },        // 27
{    3290,          5140000 },        // 28
{    3920,          5309000 },        // 29
{    4560,          5461300 },        // 30
{    5480,          5666000 },        // 31
{    6720,          5911000 },        // 32
{    8060,          6142000 },        // 33
{    MAX_ZP_OHMS,   MAX_ZP_ADCS },    // 34
{    0,             0       }         // table End
};


// Zp variation in function of temperature (from +0ºC to +60ºC)
const int32_t       zp_temperature [60+1] =
{
#if 0
// raw table extracted from 3 prototypes
 -3514,  -3420,  -3326,  -3232,  -3138,  -3044,  -2950,  -2856,  -2762,  -2668,
 -2574,  -2480,  -2386,  -2292,  -2198,  -2100,  -1890,  -1680,  -1470,  -1260,
 -1050,   -840,   -630,   -420,   -210,      0,    210,    420,    630,    840,
  1049,   1165,   1281,   1396,   1512,   1628,   1743,   1859,   1975,   2090,
  2206,   2322,   2437,   2553,   2669,   2788,   2990,   3191,   3392,   3594,
  3795,   3996,   4198,   4399,   4600,   4802,   5003,   5204,   5406,   5607,
  5813
};
#endif

#if 1
// ADS temperature compensated table extracted from 3 prototypes
 -3961,  -3847,  -3733,  -3620,  -3506,  -3392,  -3278,  -3164,  -3050,  -2936, 
 -2823,  -2709,  -2595,  -2481,  -2297,  -2113,  -1929,  -1729,  -1529,  -1329,
 -1129,   -904,   -679,   -454,   -227,      0,    230,    460,    689,    894,
  1100,   1259,   1418,   1582,   1747,   1911,   2061,   2210,   2360,   2509,
  2659,   2808,   2957,   3107,   3256,   3406,   3566,   3727,   3879,   4032,
  4185,   4363,   4542,   4720,   4899,   5078,   5256,   5435,   5614,   5792,
  5971
};
#endif






// Energy table
const ENERGY_TABLE_t  energy_table [] =
{
 //            -- ENERGY TABLES --

 // ZP(ohms)   T1(usec)     V_E50      V_E65      V_E75      V_E90     V_E150     V_E175     V_E200


 {       15,      4830,       746,       851,       911,      1001,      1295,      1395,      1493 },
 {       20,      5190,       749,       854,       915,      1005,      1300,      1400,      1499 },
 {       25,      5550,       753,       859,       920,      1011,      1307,      1408,      1507 },
 {       30,      5910,       758,       864,       926,      1017,      1316,      1417,      1516 },
 {       35,      6270,       763,       867,       932,      1021,      1320,      1421,      1519 },
 {       40,      6630,       766,       873,       938,      1027,      1325,      1430,      1529 },
 {       45,      6990,       770,       877,       944,      1032,      1329,      1432,      1535 },
 {       50,      7350,       775,       882,       949,      1038,      1337,      1440,      1544 },
 {       55,      7580,       781,       889,       956,      1046,      1347,      1451,      1556 },
 {       60,      7810,       787,       897,       964,      1053,      1353,      1462,      1567 },
 {       65,      8040,       791,       903,       969,      1061,      1359,      1472,      1579 },
 {       70,      8270,       796,       912,       975,      1068,      1366,      1483,      1590 },
 {       75,      8500,       802,       918,       982,      1076,      1375,      1493,      1600 },
 {       80,      8730,       807,       924,       988,      1082,      1384,      1502,      1610 },
 {       85,      8960,       812,       927,       994,      1089,      1395,      1511,      1616 },
 {       90,      9190,       816,       933,      1000,      1095,      1403,      1516,      1625 },
 {       95,      9420,       821,       936,      1005,      1101,      1415,      1524,      1629 },
 {      100,      9650,       825,       941,      1011,      1107,      1423,      1532,      1638 },
 {      105,      9790,       831,       947,      1018,      1115,      1432,      1543,      1649 },
 {      110,      9930,       835,       954,      1023,      1122,      1442,      1553,      1660 },
 {      115,     10070,       840,       960,      1029,      1128,      1451,      1563,      1671 },
 {      120,     10210,       843,       966,      1033,      1135,      1461,      1573,      1682 },
 {      125,     10350,       848,       972,      1039,      1142,      1470,      1583,      1692 },
 {      130,     10480,       853,       978,      1045,      1148,      1478,      1592,      1701 },
 {      135,     10610,       860,       983,      1054,      1154,      1486,      1605,      1711 },
 {      140,     10740,       865,       990,      1059,      1160,      1494,      1613,      1725 },
 {      145,     10870,       871,       995,      1067,      1166,      1501,      1625,      1733 },
 {      150,     11000,       875,      1000,      1072,      1172,      1509,      1633,      1742 },
 {      155,     11110,       879,      1005,      1077,      1178,      1516,      1640,      1750 },
 {      160,     11220,       883,      1009,      1084,      1186,      1527,      1648,      1767 },
 {      165,     11330,       889,      1014,      1089,      1192,      1534,      1660,      1775 },
 {      170,     11440,       893,      1018,      1097,      1202,      1544,      1667,      1791 },
 {      175,     11550,       897,      1022,      1101,      1207,      1550,      1674,      1795 },
 {      180,     11550,       902,      1028,      1108,      1213,      1559,      1684,      1795 },
 {      185,     11550,       907,      1034,      1114,      1220,      1567,      1693,      1795 },
 {      190,     11550,       911,      1039,      1119,      1226,      1575,      1710,      1795 },
 {      195,     11550,       916,      1044,      1125,      1233,      1584,      1719,      1795 },
 {      200,     11550,       921,      1050,      1131,      1239,      1592,      1727,      1795 },
 {      205,     11550,       927,      1057,      1139,      1248,      1603,      1740,      1795 },
 {      210,     11550,       934,      1065,      1147,      1256,      1614,      1752,      1795 },
 {      215,     11550,       940,      1072,      1155,      1265,      1625,      1764,      1795 },
 {      220,     11550,       947,      1079,      1163,      1274,      1636,      1776,      1795 },
 {      225,     11550,       953,      1087,      1171,      1282,      1647,      1788,      1795 },
 {      230,     11550,       959,      1094,      1178,      1291,      1658,      1795,      1795 },
 {      235,     11550,       966,      1101,      1186,      1299,      1669,      1795,      1795 },
 {      240,     11550,       972,      1108,      1194,      1308,      1680,      1795,      1795 },
 {      245,     11550,       978,      1116,      1202,      1316,      1691,      1795,      1795 },
 {      250,     11550,       985,      1123,      1209,      1325,      1702,      1795,      1795 },
 {      255,     11550,       991,      1130,      1217,      1333,      1713,      1795,      1795 },
 {      260,     11550,       997,      1137,      1225,      1342,      1724,      1795,      1795 },
 {      265,     11550,      1003,      1144,      1232,      1350,      1735,      1795,      1795 },
 {      270,     11550,      1010,      1151,      1240,      1358,      1745,      1795,      1795 },
 {      275,     11550,      1016,      1158,      1248,      1367,      1756,      1795,      1795 },
 {      280,     11550,      1022,      1165,      1255,      1375,      1767,      1795,      1795 },
 {      285,     11550,      1028,      1172,      1263,      1383,      1777,      1795,      1795 },
 {      290,     11550,      1034,      1179,      1270,      1391,      1788,      1795,      1795 },
 {      295,     11550,      1040,      1186,      1278,      1400,      1795,      1795,      1795 },
 {      300,     11550,      1046,      1193,      1285,      1408,      1795,      1795,      1795 },
 {        0,         0,         0,         0,         0,         0,         0,         0,         0 }
};

/******************************************************************************
 ** Externs
 */

/******************************************************************************
 ** Globals
 */

/******************************************************************************
 ** Locals
 */


/******************************************************************************
 ** Prototypes
 */

